<!DOCTYPE html>
<html lang="en">

<head>
  <title>Decision Maker - Poll Results</title>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Acme&family=Righteous&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="/vendor/normalize-4.1.1.css" />
  <link rel="stylesheet" href="/vendor/border-box.css" />
  <link rel="stylesheet" href="/styles/main.css" />
  <link rel="stylesheet" href="/styles/layout.css" />
  <link rel="stylesheet" href="/styles/nav.css" />
  <link rel="stylesheet" href="/styles/footer.css" />
  <link rel="stylesheet" href="/styles/link.css" />

  <script src="/vendor/jquery-3.0.0.js"></script>
  <script defer src="/scripts/app.js"></script>
  <script type="text/javascript" src="/scripts/client.js"></script>
  <script type="text/javascript" src="/scripts/result.js"></script>

</head>

<body>
  <nav>
    <span id="title">Decision Maker</span>
    <div class="subtext">
      <span>Create a New Poll</span>
    </div>
  </nav>

  <main class="container">
    <h2 id="results-title">Poll Results</h2>
    <h3 id="poll-question"><%= pollObj.title %></h3>

    <div class="poll-results">
      <% let choices = [
        { choice: pollObj.choice_1, total: result[0].total_choice_1 },
        { choice: pollObj.choice_2, total: result[0].total_choice_2 },
        { choice: pollObj.choice_3, total: result[0].total_choice_3 }
      ];

      choices.sort((a, b) => b.total - a.total);

      choices.forEach((choice) => { %>
        <p><%= choice.choice %> has <%= choice.total %> points</p>
      <% }); %>
    </div>
  </main>

  <footer>
    <button form="start-again" class="button" type="submit" id="start-again"><a href="http://localhost:8080/polls">START AGAIN</a></button>
  </footer>

</body>

</html>

